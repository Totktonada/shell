* Есть мысль: считать ";" разделителем списков. В command хранить ссылку на все
* n списков, разделённых ";" (или по одной ссылке с command, с указанием на
* следующий command). Возможно, это будет проще.

* Пройтись по perror: где надо exit после него, где return -1. Посмотреть, не
* забыта ли где-нибудь проверка на ошибки.

* Форматирование. Табы/пробелы.

* Нормальная разбивка на токены, их анализ — позже. Сделать нормальный буфер
* для слова, можно отдельную от буфера для строки реализацию. Сейчас оно —
* кишками наружу. Назвать можно word или stringbuffer. Методы: добавить символ,
* получить всю строку. Вообще, строка — это список токенов, не надо для неё те
* же структуры данных, что и для одного слова.

* Ideas for buffer functions:
/* Удалить последний символ и вернуть его. */
char remove_last();
/* Выделить последние n символов в отдельный buffer. */
buffer *extract_last(int n);
