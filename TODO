* Есть мысль: считать ";" разделителем списков. В command хранить ссылку на все
* n списков, разделённых ";" (или по одной ссылке с command, с указанием на
* следующий command). Возможно, это будет проще.

* Пройтись по perror: где надо exit после него, где return -1. Посмотреть, не
* забыта ли где-нибудь проверка на ошибки.

* Форматирование. Табы/пробелы.

* Ideas for buffer functions:
/* Удалить последний символ и вернуть его. */
char remove_last();
/* Выделить последние n символов в отдельный buffer. */
buffer *extract_last(int n);

* Если лексер или парсер возвращают NULL, то ошибка. В лексере, возможно, можно убрать состояние ST_ERROR.
